Neural Network Tools for STM32AI v1.5.1 (STM.ai v7.0.0-RC8)
Created date          : 2021-12-11 19:25:40
Parameters            : generate --name small_words_model -m /home/federica/Scrivania/Uni/PROS/all-words-126frames-2coeffs-model.tflite --type tflite --compression 1 --verbosity 1 --workspace /tmp/mxAI_workspace3338932767945710691709512192570682 --output /home/federica/.stm32cubemx

Exec/report summary (generate)
------------------------------------------------------------------------------------------------------------------------
model file            : /home/federica/Scrivania/Uni/PROS/all-words-126frames-2coeffs-model.tflite
type                  : tflite
c_name                : small_words_model
workspace dir         : /tmp/mxAI_workspace3338932767945710691709512192570682
output dir            : /home/federica/.stm32cubemx

model_name            : allwords126frames2coeffsmodel
model_hash            : 5a62e33ddfe9ccf0863132230f4a11ab
input                 : serving_default_conv2d_1_input0 [252 items, 1008 B, ai_float, float, (1, 126, 2, 1)]
inputs (total)        : 1008 B
output                : nl_10 [37 items, 148 B, ai_float, float, (1, 1, 1, 37)]
outputs (total)       : 148 B
params #              : 48,085 items (47.96 KiB)
macc                  : 954,480
weights (ro)          : 192,340 B (187.83 KiB) / +143,232(+291.7%) vs original model
activations (rw)      : 6,592 B (6.44 KiB) 
ram (total)           : 7,748 B (7.57 KiB) = 6,592 + 1,008 + 148

Model name - allwords126frames2coeffsmodel ['serving_default_conv2d_1_input0'] ['nl_10']
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
id   layer (type)                              oshape               param/size      macc      connected to                      |   c_size             c_macc            c_type               
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
0    serving_default_conv2d_1_input0 (Input)   (h:126, w:2, c:1)                                                                |                                       
     conv2d_0 (Conv2D)                         (h:125, w:1, c:16)   80/320          8,016     serving_default_conv2d_1_input0   |                      +6,032(+75.2%)    optimized_conv2d()[0]
     nl_0_nl (Nonlinearity)                    (h:125, w:1, c:16)                   2,000     conv2d_0                          |                      -2,000(-100.0%)  
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1    pool_1 (Pool)                             (h:63, w:1, c:16)                    4,032     nl_0_nl                           |                      -4,032(-100.0%)  
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
2    conv2d_2 (Conv2D)                         (h:63, w:1, c:32)    2,080/2,176     129,056   pool_1                            |   +6,144(+282.4%)    +6,112(+4.7%)     optimized_conv2d()[1]
     nl_2_nl (Nonlinearity)                    (h:63, w:1, c:32)                    2,016     conv2d_2                          |                      -2,016(-100.0%)  
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
3    pool_3 (Pool)                             (h:32, w:1, c:32)                    4,096     nl_2_nl                           |                      -4,096(-100.0%)  
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
4    conv2d_4 (Conv2D)                         (h:32, w:1, c:64)    8,256/8,448     262,208   pool_3                            |   +24,576(+290.9%)   +6,144(+2.3%)     optimized_conv2d()[2]
     nl_4_nl (Nonlinearity)                    (h:32, w:1, c:64)                    2,048     conv2d_4                          |                      -2,048(-100.0%)  
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
5    pool_5 (Pool)                             (h:16, w:1, c:64)                    4,096     nl_4_nl                           |                      -4,096(-100.0%)  
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
6    conv2d_6 (Conv2D)                         (h:16, w:1, c:128)   32,896/33,280   524,416   pool_5                            |   +98,304(+295.4%)   +6,144(+1.2%)     optimized_conv2d()[3]
     nl_6_nl (Nonlinearity)                    (h:16, w:1, c:128)                   2,048     conv2d_6                          |                      -2,048(-100.0%)  
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
7    pool_7 (Pool)                             (h:8, w:1, c:128)                    4,096     nl_6_nl                           |                      -4,096(-100.0%)  
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
8    pool_8 (Pool)                             (c:128)                              1,024     pool_7                            |                                        pool()[4]            
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
9    dense_9 (Dense)                           (c:37)               4,773/4,884     4,773     pool_8                            |   +14,208(+290.9%)                     dense()[5]           
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
10   nl_10 (Nonlinearity)                      (c:37)                               555       dense_9                           |                                        nl()/o[6]            
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
model/c-model: macc=954,480/954,480  weights=49,108/192,340 +143,232(+291.7%) activations=--/6,592 io=--/1,156



Generated C-graph summary
------------------------------------------------------------------------------------------------------------------------
model name            : allwords126frames2coeffsmodel
c-name                : small_words_model
c-node #              : 7
c-array #             : 22
activations size      : 6592
weights size          : 192340
macc                  : 954480
inputs                : ['serving_default_conv2d_1_input0_output']
outputs               : ['nl_10_output']



C-Arrays (22)
------------------------------------------------------------------------------------------------------------------------
c_id  name (*_array)                          item/size           mem-pool     c-type       fmt    comment            
------------------------------------------------------------------------------------------------------------------------
0     serving_default_conv2d_1_input0_output  252/1008            user         float        float  /input             
1     conv2d_0_output                         1008/4032           activations  float        float                     
2     conv2d_2_output                         1024/4096           activations  float        float                     
3     conv2d_4_output                         1024/4096           activations  float        float                     
4     conv2d_6_output                         1024/4096           activations  float        float                     
5     pool_8_output                           128/512             activations  float        float                     
6     dense_9_output                          37/148              activations  float        float                     
7     nl_10_output                            37/148              user         float        float  /output            
8     conv2d_0_weights                        64/256              weights      const float  float                     
9     conv2d_0_bias                           16/64               weights      const float  float                     
10    conv2d_2_weights                        2048/8192           weights      const float  float                     
11    conv2d_2_bias                           32/128              weights      const float  float                     
12    conv2d_4_weights                        8192/32768          weights      const float  float                     
13    conv2d_4_bias                           64/256              weights      const float  float                     
14    conv2d_6_weights                        32768/131072        weights      const float  float                     
15    conv2d_6_bias                           128/512             weights      const float  float                     
16    dense_9_weights                         4736/18944          weights      const float  float                     
17    dense_9_bias                            37/148              weights      const float  float                     
18    conv2d_0_scratch0                       32/128              activations  float        float                     
19    conv2d_2_scratch0                       64/256              activations  float        float                     
20    conv2d_4_scratch0                       128/512             activations  float        float                     
21    conv2d_6_scratch0                       256/1024            activations  float        float                     
------------------------------------------------------------------------------------------------------------------------



C-Layers (7)
------------------------------------------------------------------------------------------------------------------------
c_id  name (*_layer)  id  layer_type        macc        rom         tensors                                    shape (array id)                       
------------------------------------------------------------------------------------------------------------------------
0     conv2d_0        1   optimized_conv2d  14048       320         I: serving_default_conv2d_1_input0_output  (1, 126, 2, 1) (0)                     
                                                                    S: conv2d_0_scratch0                                                              
                                                                    W: conv2d_0_weights                                                               
                                                                    W: conv2d_0_bias                                                                  
                                                                    O: conv2d_0_output                         (1, 63, 1, 16) (1)                     
------------------------------------------------------------------------------------------------------------------------
1     conv2d_2        3   optimized_conv2d  135168      8320        I: conv2d_0_output                         (1, 63, 1, 16) (1)                     
                                                                    S: conv2d_2_scratch0                                                              
                                                                    W: conv2d_2_weights                                                               
                                                                    W: conv2d_2_bias                                                                  
                                                                    O: conv2d_2_output                         (1, 32, 1, 32) (2)                     
------------------------------------------------------------------------------------------------------------------------
2     conv2d_4        5   optimized_conv2d  268352      33024       I: conv2d_2_output                         (1, 32, 1, 32) (2)                     
                                                                    S: conv2d_4_scratch0                                                              
                                                                    W: conv2d_4_weights                                                               
                                                                    W: conv2d_4_bias                                                                  
                                                                    O: conv2d_4_output                         (1, 16, 1, 64) (3)                     
------------------------------------------------------------------------------------------------------------------------
3     conv2d_6        7   optimized_conv2d  530560      131584      I: conv2d_4_output                         (1, 16, 1, 64) (3)                     
                                                                    S: conv2d_6_scratch0                                                              
                                                                    W: conv2d_6_weights                                                               
                                                                    W: conv2d_6_bias                                                                  
                                                                    O: conv2d_6_output                         (1, 8, 1, 128) (4)                     
------------------------------------------------------------------------------------------------------------------------
4     pool_8          8   pool              1024        0           I: conv2d_6_output                         (1, 8, 1, 128) (4)                     
                                                                    O: pool_8_output                           (1, 1, 1, 128) (5)                     
------------------------------------------------------------------------------------------------------------------------
5     dense_9         9   dense             4773        19092       I: pool_8_output                           (1, 1, 1, 128) (5)                     
                                                                    W: dense_9_weights                                                                
                                                                    W: dense_9_bias                                                                   
                                                                    O: dense_9_output                          (1, 1, 1, 37) (6)                      
------------------------------------------------------------------------------------------------------------------------
6     nl_10           10  nl                555         0           I: dense_9_output                          (1, 1, 1, 37) (6)                      
                                                                    O: nl_10_output                            (1, 1, 1, 37) (7)                      
------------------------------------------------------------------------------------------------------------------------



Complexity report per layer - macc=954,480 weights=192,340 act=6,592 ram_io=1,156
-------------------------------------------------------------------------
id   name       c_macc                    c_rom                     c_id
-------------------------------------------------------------------------
0    conv2d_0   |                  1.5%   |                  0.2%   [0] 
2    conv2d_2   ||||              14.2%   |                  4.3%   [1] 
4    conv2d_4   ||||||||          28.1%   ||||              17.2%   [2] 
6    conv2d_6   ||||||||||||||||  55.6%   ||||||||||||||||  68.4%   [3] 
8    pool_8     |                  0.1%   |                  0.0%   [4] 
9    dense_9    |                  0.5%   |||                9.9%   [5] 
10   nl_10      |                  0.1%   |                  0.0%   [6] 

Generated files (5)
----------------------------------------------------------------
/home/federica/.stm32cubemx/small_words_model_config.h
/home/federica/.stm32cubemx/small_words_model.h
/home/federica/.stm32cubemx/small_words_model.c
/home/federica/.stm32cubemx/small_words_model_data.h
/home/federica/.stm32cubemx/small_words_model_data.c
