Neural Network Tools for STM32AI v1.5.1 (STM.ai v7.0.0-RC8)
Created date          : 2021-11-28 12:31:47
Parameters            : generate --name small_words_model -m /home/federica/Scrivania/Uni/PROS/8-words-model.tflite --type tflite --compression 1 --verbosity 1 --workspace /tmp/mxAI_workspace899862765051310212159914681411272 --output /home/federica/.stm32cubemx

Exec/report summary (generate)
------------------------------------------------------------------------------------------------------------------------
model file            : /home/federica/Scrivania/Uni/PROS/8-words-model.tflite
type                  : tflite
c_name                : small_words_model
workspace dir         : /tmp/mxAI_workspace899862765051310212159914681411272
output dir            : /home/federica/.stm32cubemx

model_name            : wordsmodel
model_hash            : 25153ebe7a715316fc4324a473d6e5f7
input                 : serving_default_conv2d_10_input0 [512 items, 2.00 KiB, ai_float, float, (1, 16, 32, 1)]
inputs (total)        : 2.00 KiB
output                : dense_8 [8 items, 32 B, ai_float, float, (1, 1, 1, 8)]
outputs (total)       : 32 B
params #              : 25,416 items (27.28 KiB)
macc                  : 550,184
weights (ro)          : 101,664 B (99.28 KiB) / +73,728(+263.9%) vs original model
activations (rw)      : 21,376 B (20.88 KiB) 
ram (total)           : 23,456 B (22.91 KiB) = 21,376 + 2,048 + 32

Model name - wordsmodel ['serving_default_conv2d_10_input0'] ['dense_8']
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
id   layer (type)                               oshape               param/size      macc      connected to                       |   c_size             c_macc             c_type               
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
0    serving_default_conv2d_10_input0 (Input)   (h:16, w:32, c:1)                                                                 |                                        
     conv2d_0 (Conv2D)                          (h:15, w:31, c:32)   160/640         59,552    serving_default_conv2d_10_input0   |                      +28,320(+47.6%)    optimized_conv2d()[0]
     nl_0_nl (Nonlinearity)                     (h:15, w:31, c:32)                   14,880    conv2d_0                           |                      -14,880(-100.0%)  
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1    pool_1 (Pool)                              (h:7, w:15, c:32)                    13,440    nl_0_nl                            |                      -13,440(-100.0%)  
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
2    conv2d_2 (Conv2D)                          (h:6, w:14, c:32)    4,128/4,224     344,096   pool_1                             |   +12,288(+290.9%)   +5,376(+1.6%)      optimized_conv2d()[1]
     nl_2_nl (Nonlinearity)                     (h:6, w:14, c:32)                    2,688     conv2d_2                           |                      -2,688(-100.0%)   
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
3    pool_3 (Pool)                              (h:3, w:7, c:32)                     2,688     nl_2_nl                            |                      -2,688(-100.0%)   
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
4    conv2d_4 (Conv2D)                          (h:2, w:6, c:64)     8,256/8,448     98,368    pool_3                             |   +24,576(+290.9%)   +1,536(+1.6%)      optimized_conv2d()[2]
     nl_4_nl (Nonlinearity)                     (h:2, w:6, c:64)                     768       conv2d_4                           |                      -768(-100.0%)     
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
5    pool_5 (Pool)                              (h:1, w:3, c:64)                     768       nl_4_nl                            |                      -768(-100.0%)     
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
6    reshape_6 (Reshape)                        (c:192)                                        pool_5                             |                                        
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
7    dense_7 (Dense)                            (c:64)               12,352/12,544   12,352    reshape_6                          |   +36,864(+293.9%)                      dense()[3]           
     nl_7_nl (Nonlinearity)                     (c:64)                               64        dense_7                            |                                         nl()[4]              
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
8    dense_8 (Dense)                            (c:8)                520/2,080       520       nl_7_nl                            |                                         dense()/o[5]         
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
model/c-model: macc=550,184/550,184  weights=27,936/101,664 +73,728(+263.9%) activations=--/21,376 io=--/2,080



Generated C-graph summary
------------------------------------------------------------------------------------------------------------------------
model name            : wordsmodel
c-name                : small_words_model
c-node #              : 6
c-array #             : 20
activations size      : 21376
weights size          : 101664
macc                  : 550184
inputs                : ['serving_default_conv2d_10_input0_output']
outputs               : ['dense_8_output']



C-Arrays (20)
------------------------------------------------------------------------------------------------------------------------
c_id  name (*_array)                           item/size           mem-pool     c-type       fmt    comment            
------------------------------------------------------------------------------------------------------------------------
0     serving_default_conv2d_10_input0_output  512/2048            user         float        float  /input             
1     conv2d_0_output                          3360/13440          activations  float        float                     
2     conv2d_2_output                          672/2688            activations  float        float                     
3     conv2d_4_output                          192/768             activations  float        float                     
4     dense_7_output                           64/256              activations  float        float                     
5     nl_7_nl_output                           64/256              activations  float        float                     
6     dense_8_output                           8/32                user         float        float  /output            
7     conv2d_0_weights                         128/512             weights      const float  float                     
8     conv2d_0_bias                            32/128              weights      const float  float                     
9     conv2d_2_weights                         4096/16384          weights      const float  float                     
10    conv2d_2_bias                            32/128              weights      const float  float                     
11    conv2d_4_weights                         8192/32768          weights      const float  float                     
12    conv2d_4_bias                            64/256              weights      const float  float                     
13    dense_7_weights                          12288/49152         weights      const float  float                     
14    dense_7_bias                             64/256              weights      const float  float                     
15    dense_8_weights                          512/2048            weights      const float  float                     
16    dense_8_bias                             8/32                weights      const float  float                     
17    conv2d_0_scratch0                        1984/7936           activations  float        float                     
18    conv2d_2_scratch0                        896/3584            activations  float        float                     
19    conv2d_4_scratch0                        768/3072            activations  float        float                     
------------------------------------------------------------------------------------------------------------------------



C-Layers (6)
------------------------------------------------------------------------------------------------------------------------
c_id  name (*_layer)  id  layer_type        macc        rom         tensors                                     shape (array id)                       
------------------------------------------------------------------------------------------------------------------------
0     conv2d_0        1   optimized_conv2d  87872       640         I: serving_default_conv2d_10_input0_output  (1, 16, 32, 1) (0)                     
                                                                    S: conv2d_0_scratch0                                                               
                                                                    W: conv2d_0_weights                                                                
                                                                    W: conv2d_0_bias                                                                   
                                                                    O: conv2d_0_output                          (1, 7, 15, 32) (1)                     
------------------------------------------------------------------------------------------------------------------------
1     conv2d_2        3   optimized_conv2d  349472      16512       I: conv2d_0_output                          (1, 7, 15, 32) (1)                     
                                                                    S: conv2d_2_scratch0                                                               
                                                                    W: conv2d_2_weights                                                                
                                                                    W: conv2d_2_bias                                                                   
                                                                    O: conv2d_2_output                          (1, 3, 7, 32) (2)                      
------------------------------------------------------------------------------------------------------------------------
2     conv2d_4        5   optimized_conv2d  99904       33024       I: conv2d_2_output                          (1, 3, 7, 32) (2)                      
                                                                    S: conv2d_4_scratch0                                                               
                                                                    W: conv2d_4_weights                                                                
                                                                    W: conv2d_4_bias                                                                   
                                                                    O: conv2d_4_output                          (1, 1, 3, 64) (3)                      
------------------------------------------------------------------------------------------------------------------------
3     dense_7         7   dense             12352       49408       I: conv2d_4_output0                         (1, 1, 1, 192) (3)                     
                                                                    W: dense_7_weights                                                                 
                                                                    W: dense_7_bias                                                                    
                                                                    O: dense_7_output                           (1, 1, 1, 64) (4)                      
------------------------------------------------------------------------------------------------------------------------
4     nl_7_nl         7   nl                64          0           I: dense_7_output                           (1, 1, 1, 64) (4)                      
                                                                    O: nl_7_nl_output                           (1, 1, 1, 64) (5)                      
------------------------------------------------------------------------------------------------------------------------
5     dense_8         8   dense             520         2080        I: nl_7_nl_output                           (1, 1, 1, 64) (5)                      
                                                                    W: dense_8_weights                                                                 
                                                                    W: dense_8_bias                                                                    
                                                                    O: dense_8_output                           (1, 1, 1, 8) (6)                       
------------------------------------------------------------------------------------------------------------------------



Complexity report per layer - macc=550,184 weights=101,664 act=21,376 ram_io=2,080
-------------------------------------------------------------------------
id   name       c_macc                    c_rom                     c_id
-------------------------------------------------------------------------
0    conv2d_0   ||||              16.0%   |                  0.6%   [0] 
2    conv2d_2   ||||||||||||||||  63.5%   ||||||            16.2%   [1] 
4    conv2d_4   |||||             18.2%   |||||||||||       32.5%   [2] 
7    dense_7    |                  2.2%   ||||||||||||||||  48.6%   [3] 
7    nl_7_nl    |                  0.0%   |                  0.0%   [4] 
8    dense_8    |                  0.1%   |                  2.0%   [5] 

Generated files (5)
----------------------------------------------------------------
/home/federica/.stm32cubemx/small_words_model_config.h
/home/federica/.stm32cubemx/small_words_model.h
/home/federica/.stm32cubemx/small_words_model.c
/home/federica/.stm32cubemx/small_words_model_data.h
/home/federica/.stm32cubemx/small_words_model_data.c
